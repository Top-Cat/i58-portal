<html>
    <head>
	<title>Admin</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.deep_purple-deep_orange.min.css">
	<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
    </head>

    <body>
	{{if .notLoggedIn}}
	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Login</h2>
		    </div>

		    <div class="mdl-card__supporting-text">
			<form action="/api/login" method="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="username" type="text" name="username" required>
				<label class="mdl-textfield__label" for="username">Username</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="password" type="password" name="password" required>
				<label class="mdl-textfield__label" for="password">Password</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit" target="_blank">Log In</button>
			    </div>

			</form>
		    </div>
		</div>
	    </div>
	    {{else}}
	<div class="mdl-grid">
	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Add Match</h2>
		    </div>
		    <div class="mdl-card__supporting-text">
			<form action="/api/admin/add_match" target="_blank" action="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="url" type="url" name="url" required>
				<label class="mdl-textfield__label" for="url">logs.tf URL</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="page" type="url" name="page" required><br>
				<label class="mdl-textfield__label" for="page">Match Page</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="team1" type="text" name="team1" required>
				<label class="mdl-textfield__label" for="team">Team 1</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="team2" type="text" name="team2" required>
				<label class="mdl-textfield__label" for="team2">Team 2</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="stage" type="text" name="stage" required>
				<label class="mdl-textfield__label" for="stage">Stage</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit" target="_blank">Submit</button>
			    </div>
			</form>
		    </div>
		</div>
	    </div>

	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Add Highlight</h2>
		    </div>
		    <div class="mdl-card__supporting-text">
			<form action="/api/admin/add_highlight" target="_blank" action="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="url" type="url" name="url" required>
				<label class="mdl-textfield__label" for="url">logs.tf URL</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="highlight" type="url" name="highlight" required>
				<label class="mdl-textfield__label" for="highlight">Twitch Highlight URL</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="title" type="text" name="title" required>
				<label class="mdl-textfield__label" for="title">Highlight Title</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit" target="_blank">Submit</button>
			    </div>
			</form>
		    </div>
		</div>
	    </div>
	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Add Player</h2>
		    </div>
		    <div class="mdl-card__supporting-text">
			<form action="/api/admin/add_player" target="_blank" action="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="steamid" type="text" name="steamid" required>
				<label class="mdl-textfield__label" for="steamid">SteamID</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="name" type="text" name="name" required>
				<label class="mdl-textfield__label" for="name">Player Name</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="team" type="text" name="team" required>
				<label class="mdl-textfield__label" for="team">Team</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit">Submit</button>
			    </div>
			</form>
		    </div>
		</div>
	    </div>
	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Set Wins</h2>
		    </div>
		    <div class="mdl-card__supporting-text">
			<form action="/api/admin/set_wins" target="_blank" action="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="teamid" type="number" name="teamid" required>
				<label class="mdl-textfield__label" for="teamid">TeamID</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="wins" type="number" name="wins" required>
				<label class="mdl-textfield__label" for="wins">Wins</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit">Submit</button>
			    </div>
			</form>
		    </div>
		</div>
	    </div>
	    <div class="mdl-cell mdl-cell--5-col">
		<div class="mdl-card mdl-shadow--2dp">
		    <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
			<h2 class="mdl-card__title-text">Set Losses</h2>
		    </div>
		    <div class="mdl-card__supporting-text">
			<form action="/api/admin/set_losses" target="_blank" action="post">
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="teamid" type="number" name="teamid" required>
				<label class="mdl-textfield__label" for="teamid">TeamID</label>
			    </div>
			    <div class="mdl-textfield mdl-js-textfield">
				<input class="mdl-textfield__input" id="losses" type="losses" name="losses" required>
				<label class="mdl-textfield__label" for="losses">Wins</label>
			    </div>
			    <div class="mdl-card__actions mdl-card--border">
				<button class="mdl-button mdl-js-button mdl-button--colored" type="submit">Submit</button>
			    </div>
			</form>
		    </div>
		</div>
	    </div>
	    {{end}}
	    {{if .players}}
	    <table class="mdl-data-table mdl-js-data-table">
		<thead>
		    <tr>
			<th>SteamID</th>
			<th>Name</th>
			<th>Team</th>
		    </tr>
		</thead>
		<tbody>
		    {{range $player := .players}}
		    <tr>
			<td class="mdl-data-table__cell--non-numeric">{{$player.SteamID}}</td>
			<td>{{$player.Name}}</td>
			<td>{{$player.Team.Name}} ({{$player.Team.ID}})</td>
		    </tr>
		    {{end}}
		</tbody>
	    </table>

	    {{end}}
	</div>
    </body>
</html>
