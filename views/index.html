<html>
    <head>
	<style>
	 .body {
	 }
	 .class-image > .mdl-card__media {
	     align-items: center;
	     justify-content: center;
	     width: 200px;
	     height: 240px;
	 }
	</style>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.indigo-pink.min.css">
	<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
    </head>
    <body>
	<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header
		    mdl-layout--fixed-tabs">
	    <header class="mdl-layout__header">
		<div class="mdl-layout__header-row">
		    <!-- Title -->
		    <span class="mdl-layout-title">Multiplay Insomnia 58 - Team Fortress 2</span>
		    {{if .loggedIn}}
		    <nav class="mdl-navigation">
			<a class="mdl-navigation__link" href="/admin" target="_blank">Admin</a>
		    </nav>
		    {{end}}
		</div>
		<div class="mdl-layout__tab-bar mdl-js-ripple-effect">
		    <a href="#matches" class="mdl-layout__tab">Matches</a>
		    <a href="#stats" class="mdl-layout__tab is-active">Stats</a>
		    <a href="#social" class="mdl-layout__tab">Social</a>
		</div>
	    </header>
	    <main class="mdl-layout__content">
		<section class="mdl-layout__tab-panel" id="matches">
		    <!-- MATCHES -->
		    <ul class="mdl-list">
			{{range $match := .matches}}
			<li class="mdl-list__item mdl-list__item--two-line mdl-shadow--2dp">
			    <span class="mdl-list__item-primary-content">
				<span><i>{{$match.Team1}}</i>&nbsp;vs&nbsp;<i>{{$match.Team2}}</i></span>
				<span class="mdl-list__item-sub-title">
				    {{$match.Stage}}</span>
			    </span>
			    <span class="mdl-list__item-secondary-action">
				<button class="mdl-button mdl-js-button">
				    <a href="{{$match.MatchPage}}" target="_blank">Match Page</a>
				</button>
				<button class="mdl-button mdl-js-button">
				    <a href="http://logs.tf/{{$match.LogsID}}" target="_blank">Logs</a>
				</button>
			    </span>
			</li>{{end}}
		    </ul>

		</section>
		<section class="mdl-layout__tab-panel is-active" id="stats">
		    <!-- STATS -->
		    <div class="mdl-grid">
			{{range $class, $info := .classes}}
			{{if $info.HighestDPM.Player.Name}}
			<div class="mdl-cell">
			    <div class="class-image mdl-card mdl-shadow--2dp">
				<div class="mdl-card__title mdl-card--expand">
				    <h2 class="mdl-card__title-text">{{$info.Name}}</h2>
				</div>
				<div class="mdl-card__media">
				    <img src='{{printf "/assets/%s.jpg" $class}}' width=200 height=240>
				</div>
				<div class="mdl-card__supporting-text">
				    <ul class="demo-list-item mdl-list">
					<li class="mdl-list__item">
					    <span class="mdl-list__item-primary-content">Highest DPM</span>
					    <span class="mdl-list__item-secondary-action">
						<a href={{printf "/stats?playerid=%d" $info.HighestDPM.Player.ID}}>
						    {{$info.HighestDPM.Player.Name}}</a>
					    </span>
					</li>
					<!-- <li class="mdl-list__item">
					     <span class="mdl-list__item-primary-content">Highest K/D ratio</span>
					     <span class="mdl-list__item-secondary-action">
					     <a href={{printf "/stats?playerid=%d" $info.HighestKD.Player.ID}}>
					     {{$info.HighestKD.Player.Name}}</a>
					     </span>
					     </li> -->
				    </ul>
				</div>
				<div class="mdl-card__actions">
				    <button class="mdl-button mdl-js-button">
					<a href='{{printf "/stats?class=%s" $class}}'>View Stats</a>
				    </button>
				</div>
			    </div>
			</div>
			{{end}}
			{{end}}
		    </div>
		</section>
		<section class="mdl-layout__tab-panel" id="social">
		    <!-- SOCIAL -->
		</section>
	    </main>
	</div>
	</div>
    </body>
</html>
